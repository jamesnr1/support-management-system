{
  "participants": {
    "JAM001": {
      "name": "James",
      "code": "JAM001",
      "ratio": "2:1",
      "total_hours_per_week": 168,
      "worker_hours_per_week": 336,
      "coverage": "24/7",
      "gender_requirement": "any",
      "weekday_schedule": {
        "day": {
          "time_window": "06:00-18:00",
          "hours": 84,
          "worker_hours": 168,
          "ratio": "2:1"
        },
        "evening": {
          "time_window": "18:00-22:00",
          "hours": 20,
          "worker_hours": 40,
          "ratio": "2:1"
        },
        "night": {
          "time_window": "22:00-06:00",
          "hours": 40,
          "worker_hours": 80,
          "ratio": "2:1"
        }
      },
      "weekend_schedule": {
        "same_as_weekday": true
      },
      "notes": [
        "Requires 24/7 coverage",
        "Always 2:1 ratio",
        "No gender restrictions"
      ]
    },
    "GRA001": {
      "name": "Grace",
      "code": "GRA001",
      "participant_gender": "female",
      "ratio": "1:1",
      "gender_requirement": "prefer_female",
      "gender_requirement_note": "PREFER female workers (not mandatory, but look for female first)",
      "total_hours_per_week": 107.33,
      "weekday_schedule": {
        "day": {
          "time_window": "06:00-20:00",
          "hours_per_day": 6.5,
          "total_hours": 32.5,
          "ratio": "1:1",
          "notes": "6.5 hours somewhere in the 6am-8pm window"
        },
        "evening": {
          "time_window": "20:00-22:00",
          "hours_per_day": 2,
          "total_hours": 10,
          "ratio": "1:1",
          "notes": "MUST include 2 hours in 8pm-10pm window each weekday"
        },
        "night_shared": {
          "time_window": "22:00-06:00",
          "hours": 37.33,
          "ratio": "2:3",
          "notes": "Shared supports 2:3 coverage with Ace/Libby - NOT in current roster"
        }
      },
      "saturday_schedule": {
        "day_and_evening": {
          "time_window": "06:00-22:00",
          "hours": 16,
          "ratio": "1:1",
          "notes": "16 hours on Saturday (6am-10pm)"
        }
      },
      "sunday_schedule": {
        "day_and_evening": {
          "time_window": "06:00-22:00",
          "hours": 16,
          "ratio": "1:1",
          "notes": "16 hours on Sunday (6am-10pm)"
        }
      },
      "critical_notes": [
        "⚠️ WEEKDAYS: 6.5h day + 2h evening (8pm-10pm) = 8.5h total per day",
        "⚠️ WEEKEND: 16 hours per day (6am-10pm)",
        "⚠️ PREFER female workers (not mandatory - look for female first, but male workers OK if needed)",
        "Total weekly: 32.5 (weekday day) + 10 (weekday evening) + 32 (weekend) = 74.5h + 37.33 (night shared if applicable)"
      ]
    },
    "ACE001": {
      "name": "Ace",
      "code": "ACE001",
      "participant_gender": "male",
      "gender_requirement": "any",
      "gender_requirement_note": "Fine with both male and female workers",
      "status": "no_weekday_shifts_current_roster",
      "ratio": "1:1",
      "weekday_schedule": {
        "evening": {
          "time_window": "20:00-22:00",
          "hours_per_day": 2,
          "total_hours": 10
        },
        "night_shared": {
          "time_window": "22:00-06:00",
          "hours": 37.33,
          "ratio": "2:3",
          "notes": "Shared supports 2:3 with Libby/Grace"
        }
      },
      "weekend_schedule": {
        "hours_per_day": 16
      },
      "notes": [
        "NO weekday shifts in current roster (Oct 7-13)"
      ]
    },
    "LIB001": {
      "name": "Libby",
      "code": "LIB001",
      "participant_gender": "female",
      "gender_requirement": "prefer_female",
      "gender_requirement_note": "PREFER female workers (not mandatory, but look for female first)",
      "status": "not_in_current_roster",
      "notes": [
        "NO shifts in current roster (Oct 7-13)"
      ]
    },
    "MIL001": {
      "name": "Milan",
      "code": "MIL001",
      "participant_gender": "male",
      "gender_requirement": "any",
      "gender_requirement_note": "Fine with both male and female workers",
      "status": "weekend_only_current_roster",
      "ratio": "1:1",
      "total_hours_per_week": 27,
      "weekday_schedule": {
        "hours": 15,
        "notes": "NO weekday shifts in current roster (Oct 7-13)"
      },
      "weekend_schedule": {
        "saturday": {
          "self_care": {
            "hours": 3,
            "notes": "Must be separate shift"
          },
          "community": {
            "hours": 3,
            "notes": "Must be separate shift, can be same worker as self-care"
          }
        },
        "sunday": {
          "self_care": {
            "hours": 3,
            "notes": "Must be separate shift"
          },
          "community": {
            "hours": 3,
            "notes": "Must be separate shift, can be same worker as self-care"
          }
        }
      },
      "critical_notes": [
        "⚠️ Weekend: 3h self-care + 3h community EACH DAY",
        "⚠️ MUST be separate shifts (can't be one 6h shift)",
        "⚠️ CAN use same worker for both shifts (continuity of care applies)",
        "NO weekday shifts in Oct 7-13 roster"
      ]
    }
  },
  "validation_rules": {
    "rest_periods": {
      "adjacent_day_minimum": 600,
      "adjacent_day_minimum_description": "10 hours between end of one shift and start of next shift on adjacent days",
      "same_participant_continuity": 30,
      "same_participant_continuity_description": "For same participant, back-to-back or up to 30 min break allowed for continuity of care",
      "different_participant_minimum": 120,
      "different_participant_minimum_description": "2 hours minimum break between different participants (travel time)",
      "split_shift_minimum": 60,
      "split_shift_minimum_description": "1 hour minimum break for split shifts (same day, same participant, gap < 5h)"
    },
    "time_bands": {
      "day": "06:00-18:00",
      "evening": "18:00-22:00",
      "night": "22:00-06:00"
    },
    "ratios": {
      "1:1": "One worker per participant",
      "2:1": "Two workers per participant",
      "2:3": "Two workers shared across three participants (night shared supports)"
    }
  },
  "current_roster_constraints": {
    "week": "October 7-13, 2025",
    "excluded_participants": [
      "No Ace weekday shifts",
      "No Milan weekday shifts",
      "No Libby shifts at all"
    ],
    "special_assignments": {
      "sandy_135": "Early morning shifts 6-8am on available days",
      "rosie_126": "Target ~40h, all availability",
      "parvinder_139": "Weekday shifts in availability + one weekend shift",
      "chaynne_120": "Tue 9am-1pm + Fri 12pm-4pm (8h max)",
      "mihir_130": "EXACTLY 24 hours",
      "hamza_132": "Increased hours (~32h)",
      "sanjay_136": "Increased hours (~38h)",
      "happy_125": "Reduced to ~40h",
      "arti_118": "Reduced hours, Grace only (female)",
      "krunal_127": "Reduced to ~32h"
    }
  },
  "roster_management_principles": {
    "locked_shifts": {
      "description": "Some shifts are locked (fixed time and worker)",
      "rules": [
        "DO NOT change locked shift times",
        "DO NOT change locked shift workers",
        "MUST include locked shift hours in worker hour calculations",
        "Locked shifts are marked with 'locked': true in roster data"
      ]
    },
    "hour_balancing": {
      "description": "Keep worker hours relatively balanced",
      "rules": [
        "Aim for workers to be within ~10h of their target hours",
        "Don't over-assign to some workers while under-utilizing others",
        "Consider worker availability when balancing",
        "Account for locked shifts when calculating available hours"
      ],
      "priority_for_low_hour_workers": {
        "critical": "Workers with low max hours (8-24h) often have restrictions (student visa, other commitments)",
        "impact": "These workers RELY on getting their allocated hours - they cannot get more elsewhere",
        "rule": "PRIORITIZE giving low-hour workers their FULL allocation before distributing to high-hour workers",
        "examples": {
          "mihir_24h": "Has exactly 24h max - MUST get all 24h",
          "chaynne_8h": "Has 8h max with specific times - MUST get those 8h",
          "parvinder_24h": "Has 24h max - should get close to 24h",
          "sandy_20h": "Has 20h max - should get close to 20h"
        },
        "rationale": "High-hour workers (40-48h) have flexibility. Low-hour workers don't. Protect low-hour allocations first."
      }
    },
    "ndis_plan_changes": {
      "description": "NDIS can issue new/updated plans at any time",
      "implications": [
        "Participant hours may change with new plan",
        "Support ratios may be adjusted",
        "Funding categories may change",
        "This file should be updated when NDIS plan changes",
        "Always check if requirements are current before creating roster"
      ]
    },
    "gender_preferences": {
      "description": "Participant gender preferences and requirements",
      "levels": {
        "any": "No preference, any worker gender is fine",
        "prefer_female": "Prefer female workers (look for female first, but male OK if needed)",
        "prefer_male": "Prefer male workers (look for male first, but female OK if needed)",
        "require_female": "MUST be female workers only (blocking requirement)",
        "require_male": "MUST be male workers only (blocking requirement)"
      },
      "current_preferences": {
        "James (JAM001)": "any",
        "Grace (GRA001, female)": "prefer_female",
        "Ace (ACE001, male)": "any",
        "Libby (LIB001, female)": "prefer_female",
        "Milan (MIL001, male)": "any"
      }
    }
  },
  "ai_helper_notes": {
    "critical_reminders": [
      "READ this file EVERY time before creating a roster",
      "Grace weekdays = 6.5h day + 2h evening (8pm-10pm) - DON'T FORGET EVENING!",
      "Grace weekends = 16h per day (6am-10pm)",
      "Milan weekends = 3h + 3h SEPARATE shifts",
      "James = 24/7 coverage at 2:1 ratio",
      "Check locked shifts and include their hours in calculations",
      "Balance hours across all workers",
      "Prefer female workers for Grace and Libby (but not blocking)",
      "10-hour rest between adjacent day shifts"
    ],
    "validation_checklist": [
      "Run backend/validate_roster_requirements.py after creation",
      "Check all errors and warnings",
      "Verify worker hour totals",
      "Confirm gender preferences honored",
      "Verify locked shifts unchanged",
      "Confirm hour balancing across workers"
    ]
  }
}

